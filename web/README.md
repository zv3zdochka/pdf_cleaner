# PDF Cleaner Web UI

Небольшая веб-панель для просмотра и управления файлами, которые сохраняет бот в `STORAGE_DIR`.

## Возможности

- список запросов (входной PDF и результаты);
- просмотр деталей запроса и метаданных;
- скачивание входного и выходных файлов;
- удаление запроса «насовсем» (удаляется папка request целиком).

## Требования

- Папка `web/` должна лежать в корне репозитория рядом с `pdf_cleaner_bot/`.
- Хранилище бота должно быть на диске и монтироваться в вебку (одинаковый `STORAGE_DIR`).

## Запуск локально (внутри того же проекта)

1) Установить зависимости вебки:
```bash
pip install -r web/requirements.txt
```

2) Задать переменные окружения (пример):
```bash
export STORAGE_DIR="storage"
export STORAGE_MAX_BYTES=$((30*1024*1024*1024))
export WEB_USER="admin"
export WEB_PASSWORD="change_me"
export WEB_PORT="8080"
```

3) Запуск:
```bash
uvicorn web.app:app --host 0.0.0.0 --port ${WEB_PORT:-8080}
```

Открыть в браузере: `http://<server>:8080`

## Запуск в Docker

Можно запускать вебку:
- в том же контейнере (как второй процесс) — быстро, но не лучший прод-паттерн;
- отдельным контейнером — правильнее.

Важно: вебка должна видеть тот же volume `STORAGE_DIR`, что и бот.

## Безопасность

Используется HTTP Basic Auth. Обязательно задай `WEB_USER` и `WEB_PASSWORD`.
Для продакшена — ставь за Nginx/Traefik и добавляй HTTPS.
